<!DOCTYPE html>
<html>
<head>
<title>Roku Controller 1.2</title>
        <script src="http://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
        <script type="text/javascript">
        function rokugotochannel() {
            let url = 'http://' + ip + ':8060/launch/' + $('#channel-select')[0].value;
            return fetch(url, {method: 'POST', mode: 'no-cors'});
            }

                const params = new Proxy(new URLSearchParams(window.location.search), {
            get: (searchParams, prop) => searchParams.get(prop),
            });

        ip = params.ip

$('#remote').ready(function(){
            document.getElementById("remote").src = "http://127.0.0.1:2008/rokuiframeremote.html?ip=" + ip
        })
        </script>
</head>
<body>
<input type="text" id="ip" name="ip" required>
<button onclick='document.location.href = "http://127.0.0.1:2008?ip=" + document.getElementById("ip").value'>Submit IP</button>
<br>
<iframe src="http://127.0.0.1:2008/rokuiframeremote.html" style="height:300px;width:140px;border:none;overflow:hidden;border-radius:40px;" id="remote"></iframe>
<br>
<select name="Channel" id="channel-select" onchange="rokugotochannel()">
<option value=undefined selected >Channels</option>
<option value="593290">Discovery Plus</option>
<option value="291097">Disney Plus</option>
<option value="61322">HBO Max</option>
<option value="2285">Hulu</option>
<option value="12">Netflix</option>
<option value="31440">Paramount Plus</option>
<option value="593099">Peacock TV</option>
<option value="13">Prime Video</option>
<option value="837">YouTube</option>
<option value="tvinput.hdmi1">HDMI Input 1</option>
<option value="tvinput.hdmi2">HDMI Input 2</option>
<option value="tvinput.hdmi3">HDMI Input 3</option>
<option value="tvinput.hdmi4">HDMI Input 4</option>
<option value="tvinput.dtv">Live TV</option>
<option value="tvinput.cvbs">AV Input</option>
</select>
</body>
</html>
